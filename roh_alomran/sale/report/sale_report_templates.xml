<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="paperformat_saleorder_document_template" model="report.paperformat">
            <field name="name">Sale Order Report paperformat</field>
            <field name="default" eval="True"/>
            <field name="orientation">Portrait</field>
            <field name="page_height">0</field>
            <field name="page_width">0</field>
            <field name="margin_top">10</field>
            <field name="margin_bottom">40</field>
            <field name="margin_left">7</field>
            <field name="margin_right">7</field>
            <field name="header_line" eval="False"/>
            <field name="header_spacing">3</field>
        </record>

<!--        <record id="sale.action_report_saleorder" model="ir.actions.report">-->
<!--            <field name="paperformat_id" ref="sale_fadil.paperformat_saleorder_document_template"/>-->
<!--        </record>-->

        <template id="external_layout_boxed_inherit" inherit_id="web.external_layout_boxed">
            <xpath expr="//div[@class='o_boxed_header']" position="replace">
                <div class="o_boxed_header">
                    <center>
                        <img alt="Logo" t-att-src="image_data_uri(company.logo)" t-if="company.logo"
                             style="max-height: 170px;max-width: 3000px"/>
                    </center>
                </div>
            </xpath>

            <xpath expr="//div[3]" position="replace">
                <div class="footer" style="margin-top: 100px;">
                    <img t-if="company.footer_logo" t-att-src="image_data_uri(company.footer_logo)" type="base64"
                         style="max-height: 150px;max-width: 2000px"/>
                    <!--                    <span t-field="company.report_footer"/>-->
                </div>
            </xpath>

        </template>

        <template id="report_saleorder_document_inherit" inherit_id="sale.report_saleorder_document">
            <xpath expr="//div[hasclass('page')]" position="before">
                <link rel="stylesheet" href="/sale_fadil/static/src/css/font.css"/>
                <link rel="stylesheet" href="/sale_fadil/static/src/css/sale_report.css"/>
                <!--                                <link rel="stylesheet"-->
                <!--                                      href="/sale_fadil/static/src/css/bootstrap.min.css"/>-->

            </xpath>

            <xpath expr="//div[hasclass('page')]" position="attributes">
                <link rel="stylesheet" href="/sale_fadil/static/src/css/font.css"/>
                <attribute name="style">font-size:16px;margin-top: 1%;font-family:'Calibri';
                </attribute>
            </xpath>
            <xpath expr="//td[@name='td_quantity']" position="replace">
                <td name="td_quantity" class="text-right">
                    <span t-esc="line.product_uom_qty"/>
                    <span t-field="line.product_uom" groups="uom.group_uom"/>
                </td>
            </xpath>
            <xpath expr="//div[@class='page']/h2[1]" position="replace">
                <div class="row">
                </div>
            </xpath>
            <xpath expr="//t[@t-set='address']" position="replace">
            </xpath>
            <xpath expr="//th[@name='th_description']" position="attributes">
                <attribute name="class">text-center</attribute>
            </xpath>

            <xpath expr="//th[@name='th_priceunit']" position="attributes">
                <attribute name="class">text-center</attribute>
            </xpath>

            <xpath expr="//th[@name='th_taxes']" position="replace">
                <!--                <attribute name="class">text-center</attribute>-->
            </xpath>

            <xpath expr="//th[@name='th_discount']" position="attributes">
                <attribute name="class">text-center</attribute>
            </xpath>

            <xpath expr="//td[@name='td_priceunit']" position="attributes">
                <attribute name="class">text-center</attribute>
            </xpath>
            <xpath expr="//th[@name='th_priceunit']" position="attributes">
                <attribute name="class">text-center</attribute>
            </xpath>
            <xpath expr="//td[@name='td_quantity']" position="attributes">
                <attribute name="class">text-center</attribute>
            </xpath>
            <xpath expr="//td[@name='td_taxes']" position="attributes">
                <attribute name="class">text-center</attribute>
            </xpath>
            <xpath expr="//th[@name='th_quantity']" position="attributes">
                <attribute name="class">text-center</attribute>
            </xpath>
            <xpath expr="//th[@name='th_subtotal']" position="attributes">
                <attribute name="class">text-center</attribute>
            </xpath>
            <xpath expr="//td[@groups='product.group_discount_per_so_line']" position="attributes">
                <attribute name="class">text-center</attribute>
            </xpath>

            <xpath expr="//div[@id='informations']" position="replace">
                <center>
                    <t t-if="not (env.context.get('proforma', False) or is_pro_forma)">
                        <h2>
                            <!-- <span t-if="doc.state not in ['draft','sent','sale']"><strong>Order #</strong></span> -->
                            <span t-if="doc.state !='sale'">
                                <strong>Quotation</strong>
                            </span>
                            <span t-if="doc.state == 'sale'">
                                <strong>Sale Order</strong>
                            </span>
                            <br/>
                            <span t-field="doc.name"/>
                        </h2>
                    </t>
                </center>
                <br/>
                <br/>
                <div class="row">
                    <div class="col-6 pull-left">
                        <table style="height: 100px; width: 325px; border: none;background-color:none;">
                            <tr style="border:none;">
                                <td class="text-left" style="border:none;background-color:transparent;">
                                    <div id="total">
                                        <strong style="margin-left:10px;">Date:</strong>
                                    </div>
                                </td>
                                <td class="text-left" style="border:none;background-color:transparent;">
                                    <span style="color:black;" t-esc="doc.date_order.strftime('%d-%B-%Y')"/>
                                </td>
                            </tr>
                            <tr style="border:none;">
                                <td class="text-left" style="border:none;background-color:transparent;">
                                    <div id="total">
                                        <strong style="margin-left:10px;">Expiration:</strong>
                                    </div>
                                </td>
                                <td class="text-left" style="border:none;background-color:transparent;">
                                    <span style="color:black;" t-esc="doc.validity_date"/>
                                </td>
                            </tr>
                            <tr style="border:none;">
                                <td class="text-left" style="border:none;background-color:transparent;">
                                    <div id="total">
                                        <strong style="margin-left:10px;">Customer:</strong>
                                    </div>
                                </td>
                                <td class="text-left" style="border:none;background-color:transparent;">
                                    <span style="color:black;" t-field="doc.partner_id.name"/>
                                </td>
                            </tr>
                            <tr style="border:none;">
                                <td class="text-left" style="border:none;background-color:transparent;">
                                    <div id="total">
                                        <strong style="margin-left:10px;">Address:</strong>
                                    </div>
                                </td>
                                <td class="text-left" style="border:none;background-color:transparent;">
                                    <span style="color:black;" t-field="doc.street"/>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="col-6 pull-left">
                        <table style="height: 100px; width: 325px;border:none;background-color:transparent;margin-right:130px;">
                            <tr style="border:none;">
                                <td class="text-left" style="border:none;font-size: 15px;">
                                    <div id="total">
                                        <strong style="margin-left:10px;">Payment Terms:</strong>
                                    </div>
                                </td>
                                <td class="text-left" style="border:none;font-size: 15px;background-color:transparent;">
                                    <span style="color:black;" dir="ltr" t-field="doc.payment_term_id.name"/>
                                </td>
                            </tr>
                            <tr style="border:none;">
                                <td class="text-left"
                                    style="border:none;font-size: 15px;margin-left:5px;background-color:transparent;">
                                    <div id="total">
                                        <strong style="margin-left:10px;">Tell:</strong>
                                    </div>
                                </td>
                                <td class="text-left"
                                    style="border:none;font-size: 15px;background-color:transparent;">
                                    <span style="color:black;" t-field="doc.partner_id.phone"/>
                                </td>
                            </tr>
                            <tr style="border:none;">
                                <td class="text-left" style="border:none;background-color:transparent;">
                                    <div id="total">
                                        <strong style="margin-left:10px;">Salesperson:</strong>
                                    </div>
                                </td>
                                <td class="text-left" style="border:none;background-color:transparent;">
                                    <span style="color:black;" t-field="doc.user_id.name"/>
                                </td>
                            </tr>

                        </table>
                    </div>
                </div>
                <div class="row">
                    <strong style="margin-left:16px;">Notes:</strong>
                    <span t-field="doc.note"/>
                    <br/>
                    <br/>
                </div>

            </xpath>

            <!--            <xpath expr="//th[1]" position="before">-->
            <!--                <th class="text-center">No.</th>-->
            <!--            </xpath>-->

            <!--            <xpath expr="//td[1]" position="before">-->
            <!--                <td>-->
            <!--                    <span t-esc="int(line_index+1)"/>-->
            <!--                </td>-->
            <!--            </xpath>-->

            <xpath expr="//td[@name='td_taxes']" position="replace">

            </xpath>

            <xpath expr="//t[@t-as='amount_by_group']" position="replace">
                <tr style="">
                    <td name="td_amount_tax_label">
                        <strong>VAT</strong>
                    </td>
                    <td name="td_amount_tax" class="text-right">
                        <span t-field="doc.amount_tax"
                              t-options='{"widget": "monetary", "display_currency": doc.pricelist_id.currency_id}'/>
                    </td>
                </tr>
            </xpath>

            <xpath expr="//div[@name='total']" position="after">
                <br/>
                <br/>
                <div class="row">
                    <table class="table table-sm" style="border:none;">
                        <tr style="border:none;">
                            <td style="border:none;">
                                <strong>Amount:</strong>
                            </td>
                            <td style="border:none;">
                                <strong>
                                    <span t-field="doc.amount_in_words_arabic"/>
                                </strong>
                            </td>
                        </tr>
                    </table>
                    <!--                    <strong>-->
                    <!--                        <span t-field="doc.amount_in_words_arabic"/>-->
                    <!--                    </strong>-->
                </div>
            </xpath>

            <xpath expr="//p[@t-field='doc.note']" position="replace">
            </xpath>

            <xpath expr="//span[@t-field='doc.payment_term_id.note']" position="replace">
            </xpath>


        </template>

    </data>
</odoo>